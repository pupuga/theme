(()=>{"use strict";const e=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.server="undefined"==typeof popUpConfig?"":"/"===popUpConfig.server.charAt(popUpConfig.server.length-1)?popUpConfig.server.slice(0,-1):popUpConfig.server,this.mainSelector=".exit-popup-config",this.saveSelector="".concat(this.mainSelector,"__button-save"),this.downloadSelector="".concat(this.mainSelector,"__button-download"),this.copySelector="".concat(this.mainSelector,"__button-copy"),this.generateSelector="".concat(this.mainSelector,"__button-generate"),this.resetSelector="".concat(this.mainSelector,"__button-reset"),this.generatedSelector="".concat(this.mainSelector,"__generated-data"),this.fieldSelector="".concat(this.mainSelector,"__field"),this.action="account_config",this.dataFileName="data.js"};function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._params=t,this._formData=new FormData,this.appendToFormData("action",this._params.action).appendToFormData("wpnonce",void 0===this._params.nonce?globalVars.nonce:this._params.nonce)}var n,o;return n=e,(o=[{key:"appendToFormData",value:function(e,t){return this._formData.append(e,t),this}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;fetch(void 0===e._params.url?globalVars.url:e._params.url,{method:"POST",body:e._formData,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(t){return e._params.callback(t)})).catch((function(e){return console.log(e)}))}))}])&&t(n.prototype,o),e}();function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw r}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._messageObject=t,this._errorFields=[],this._message=""}var t,n;return t=e,(n=[{key:"checkRequiredFields",value:function(e){this._errorFields=[],this._message="";var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._checkRequired(i)&&("domain"!==i.name||this._checkDomain(i))||"file"===i.type||this._errorFields.push(i)}}catch(e){n.e(e)}finally{n.f()}return this._errorFields.length&&window.scrollTo(0,this._errorFields[0].parentNode.offsetTop),this._errorFields.length>0}},{key:"setEvents",value:function(e){var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a="_"+i.type;a in this&&this[a](i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_error",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t?(e.classList.add("field-error"),n&&this._messageObject.setEnable().setError().setContent(n).add()):e.classList.remove("field-error")}},{key:"_checkRequired",value:function(e){return!(e.required&&""===e.value)}},{key:"_checkDomain",value:function(e){return/(http(s?)):\/\//i.test(e.value)}},{key:"_text",value:function(e){var t=this;e.addEventListener("focusout",(function(n){var o="domain"===e.name?!t._checkDomain(e):!t._checkRequired(e),i=o?e.getAttribute("data-message"):"";t._error(n.target,o,i)})),e.addEventListener("focusin",(function(e){t._error(e.target,!1)}))}},{key:"_number",value:function(e){var t=this;e.addEventListener("keypress",(function(e){"KeyE"!==e.code&&"Period"!==e.code&&"Comma"!==e.code||e.preventDefault()})),e.addEventListener("change",(function(e){t._checkRequired(e.target),t._checkRequired(e.target)||(e.target.value=0,t._messageObject.setEnable().setUrgent().setContent(e.target.getAttribute("data-message")).add()),t._checkRequired(e.target)}))}}])&&a(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parentObject=t,this._class="pupuga-message",this._messageType="".concat(this._class,"--info"),this._messageVisible="".concat(this._class,"--enable"),this._content="",this._visibleTime=5e3}var t,n;return t=e,(n=[{key:"setContent",value:function(e){return this._content=e,this}},{key:"setInfo",value:function(){return this.setMessageType("info"),this}},{key:"setUrgent",value:function(){return this.setMessageType("urgent"),this}},{key:"setError",value:function(){return this.setMessageType("error"),this}},{key:"setMessageType",value:function(e){return this._messageType="".concat(this._class,"--").concat(e),this}},{key:"setEnable",value:function(){return this.setVisible("enable"),this}},{key:"setDisable",value:function(){return this.setVisible("disable"),this}},{key:"setVisible",value:function(e){this._messageVisible="".concat(this._class,"--").concat(e);var t=this._parentObject.querySelector(".".concat(this._class));return null!==t&&t.classList.add(this._messageVisible),this}},{key:"add",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;this._parentObject.insertAdjacentHTML("beforeend",this._setTemplate()),e&&setTimeout((function(){t.setDisable(),setTimeout((function(){t.remove()}),1100)}),t._visibleTime)}},{key:"remove",value:function(){this._parentObject.querySelector(".".concat(this._class)).remove()}},{key:"_setTemplate",value:function(){return'<div class="'.concat(this._class," ").concat(this._messageType," ").concat(this._messageVisible,'" data-content="').concat(this._content,'"></div>')}}])&&s(t.prototype,n),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l(this,e),this.camelCase="",this.last="";var o=t.split("_");if(o.length)for(var i in o){var a=parseInt(i);0===a?this.camelCase+=o[i]:(a+1<o.length||n)&&(this.camelCase+=o[i].charAt(0).toUpperCase()+o[i].slice(1)),a+1===o.length&&(this.last=o[i])}}var t,n;return t=e,(n=[{key:"get",value:function(){return this.camelCase}},{key:"getLast",value:function(){return this.last}}])&&u(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.image=t,this.isBase64=0===this.image.src.search("data:image"),this.mimeType=this.isBase64?"":this._type(),this.base64=this.isBase64?this.image.src:this._create(),this.split=this.base64.replace(/^data:image\//,"").split(";base64,")}var t,n;return t=e,(n=[{key:"get",value:function(){return this.base64}},{key:"getSplit",value:function(){return this.split}},{key:"_type",value:function(){var e=this.image.src.split(".").pop();switch(e){case"jpg":case"jpeg":e="jpeg";break;case"svg":e="svg+xml"}return"image/".concat(e)}},{key:"_create",value:function(){var e=document.createElement("canvas");return e.width=this.image.width,e.height=this.image.height,e.getContext("2d").drawImage(this.image,0,0),e.toDataURL(this.mimeType)}}])&&d(t.prototype,n),e}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._error=!1,this._parent="exit-popup-config",this._parentObject=document.querySelector(".".concat(this._parent)),this._messageObject=new c(this._parentObject.querySelector(".".concat(this._parent,"__message"))),this._fieldsObject=new r(this._messageObject),this._data={},this._setFields(),this._setFieldsValues(),this._save(),this._generate(),this._copy(),this._download(),this._reset()}var o,i;return o=t,(i=[{key:"_setFields",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._fields=document.querySelectorAll("".concat(e.fieldSelector," .input-field")),t?this._error=this._fieldsObject.checkRequiredFields(this._fields):this._fieldsObject.setEvents(this._fields)}},{key:"_setFieldsValues",value:function(){var e=this,t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","\\":"&#92;"};if(e._fieldsValues={},e._fields.length){var n,o=y(e._fields);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=void 0,r=String(i.value).replace(/[<>"'`\\]/g,(function(e){return t[e]}));switch(i.type){case"checkbox":e._fieldsValues[i.name]=i.checked?1:0;break;case"select-one":e._fieldsValues[i.name]=i.options[i.selectedIndex].value;break;case"file":a=i.closest(".".concat(e._parent,"__field")).querySelector("img"),e._fieldsValues[i.name]="object"===m(i.files[0])?i.files[0]:i.dataset.default===a.src?"1":"";break;default:e._fieldsValues[i.name]=r}if("languages"===i.dataset.type&&"text"===i.type){void 0===e._data[i.dataset.type]&&(e._data[i.dataset.type]={});var s=new f(i.name);void 0===e._data[i.dataset.type][s.get()]&&(e._data[i.dataset.type][s.get()]={}),e._data[i.dataset.type][s.get()][s.getLast()]=r}if("file"===i.type){var c=new f(i.name,!0);this._data[c.get()]=new h(a).getSplit()}"domain"===i.name&&"/"===e._fieldsValues[i.name].charAt(e._fieldsValues[i.name].length-1)&&(e._fieldsValues[i.name]=e._fieldsValues[i.name].slice(0,-1))}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_save",value:function(){var t=this;document.querySelector(e.saveSelector).addEventListener("click",(function(){if(t._setFields(!0),!t._error){if(t._fields.length)for(var o in t._parentObject.insertAdjacentHTML("beforeend",'<div class="wait-loading"></div>'),t._setFieldsValues(),t._formFetch=new n({action:e.action,callback:t._after()}),t._fieldsValues)t._formFetch.appendToFormData(o,t._fieldsValues[o]);t._formFetch.fetch()}}))}},{key:"_after",value:function(){var e=this;return function(t){t.done&&(e._parentObject.lastChild.remove(),e._messageObject.setEnable().setContent(t.message),0!==t.error?e._messageObject.setError():e._messageObject.setInfo(),e._messageObject.add())}}},{key:"_generate",value:function(){var t=this;document.querySelector(e.generateSelector).addEventListener("click",(function(){document.querySelector(e.generatedSelector+" textarea").innerHTML='<script src="'.concat(t._fieldsValues.domain,'/data.js"><\/script>&#013;<script src="').concat(e.server,'/main.js"><\/script>'),document.querySelector(e.generatedSelector).classList.add("".concat(e.generatedSelector.substring(1),"--block")),t._copyAction()}))}},{key:"_copy",value:function(){var t=this;document.querySelector(e.copySelector).addEventListener("click",(function(){t._copyAction()}))}},{key:"_copyAction",value:function(){var t=document.querySelector(e.generatedSelector+" textarea");t.select(),t.setSelectionRange(0,5e4),document.execCommand("copy"),this._messageObject.setEnable().setInfo().setContent("The Code is copied").add()}},{key:"_reset",value:function(){var t=this;document.querySelector(e.resetSelector).addEventListener("click",(function(){var e,n=y(t._fields);try{for(n.s();!(e=n.n()).done;){var o=e.value;void 0!==m(o.dataset.default)&&("file"!==o.type?o.value=o.dataset.default:"file"===o.type&&(o.closest(".".concat(t._parent,"__field")).querySelector("img").src=o.dataset.default,o.value=""))}}catch(e){n.e(e)}finally{n.f()}}))}},{key:"_download",value:function(){var t=this;document.querySelector(e.downloadSelector).addEventListener("click",(function(){var n="{";for(var o in t._data.languages){for(var i in n+='"'.concat(o,'": {'),t._data.languages[o])1===t._fieldsValues["use_lang_".concat(i)]&&(n+='"'.concat(i,'": "').concat(t._data.languages[o][i],'",'));n=n.slice(0,-1)+"},"}n=n.slice(0,-1)+"}";var a=parseInt(t._fieldsValues.time),r=Math.floor(a/60),s=a-60*r,c=r.toString(),l=s.toString();c=r<=9?"0"+c:c,l=s<=9?"0"+l:l;var u='let dataExitPopup = {\n                "code": "'.concat(t._fieldsValues.code,'",\n                "time": "').concat(c,":").concat(l,'",\n                "memoryDays": "').concat(t._fieldsValues.memory_days,'",\n                "memoryCloseDays": "').concat(t._fieldsValues.memory_close_days,'",\n                "mobileLoadSec": "').concat(t._fieldsValues.mobile_load_sec,'",\n                "desktopLoadSec": "').concat(t._fieldsValues.desktop_load_sec,'",\n                "minimizeCount": "').concat(t._fieldsValues.minimize_count,'",\n                "minimizeHide": "').concat(t._fieldsValues.minimize_hide,'",\n                "style" : {\n                    "borderRadius" : "').concat(t._fieldsValues.border_radius,'",\n\t\t            "backgroundColor" : "').concat(t._fieldsValues.background_color,'",\n\t\t            "getFontFamily" : "').concat(t._fieldsValues.get_font_family,'",\n\t\t            "timerTitleFontColor" : "').concat(t._fieldsValues.timer_title_font_color,'",\n\t\t            "timerFontColor" : "').concat(t._fieldsValues.timer_font_color,'",\n\t\t            "timerDigitColor" : "').concat(t._fieldsValues.timer_digit_color,'",\n\t\t            "timerDigitBackgroundColor" : "').concat(t._fieldsValues.timer_digit_background_color,'",\n\t\t            "timerAnalogPointColor" : "').concat(t._fieldsValues.timer_analog_point_color,'",\n\t\t            "codeTitleFontColor" : "').concat(t._fieldsValues.code_title_font_color,'",\n\t\t            "codeFontColor" : "').concat(t._fieldsValues.code_font_color,'",\n\t\t            "codeCodeFontColor" : "').concat(t._fieldsValues.code_code_font_color,'",\n\t\t            "helpFontColor" : "').concat(t._fieldsValues.help_font_color,'",\n\t\t            "closeButtonColor" : "').concat(t._fieldsValues.close_button_color,'",\n\t\t            "minimizeButtonColor" : "').concat(t._fieldsValues.minimize_button_color,'",\n\t\t            "minimizeButtonBackgroundColor" : "').concat(t._fieldsValues.minimize_button_background_color,'"\n    \t\t    },\n    \t\t    "timerImage": "').concat(t._data.timerImage[1],'",\n                "timerImageExt": "').concat(t._data.timerImage[0],'",\n                "codeImage": "').concat(t._data.codeImage[1],'",\n                "codeImageExt": "').concat(t._data.codeImage[0],'",\n    \t\t    "lang": "').concat(t._fieldsValues.lang,'",\n    \t\t    "languages": ').concat(n,"\n            }"),f=document.createElement("a");f.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(u)),f.setAttribute("download",e.dataFileName),f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f)}))}}])&&_(o.prototype,i),t}();function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.classMenuIsActive="is-active",this.classMenuPrefix="woocommerce-MyAccount-navigation-link",this.classFieldsPrefix="exit-popup-config__fields-type",this.points=popUpConfig.points,this.pointName=window.location.hash.split("#").pop(),this.pointName=""===this.pointName?popUpConfig.points[0]:this.pointName,this.loopPointName=null,this.loopPointSelector=null,this.loopPointObject=null,this.fieldsSelector=null,this.fieldsObject=null,this.setPoints()}var t,n;return t=e,(n=[{key:"setPoints",value:function(){if(this.points.length){var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}(this.points);try{for(t.s();!(e=t.n()).done;)this.loopPointName=e.value,this.setCurrentPointSelector(),this.setCurrentPointObject(),this.setLinkStyle(),this.setFieldsSelector(),this.setFieldsObject(),this.setFieldsStyle(),this.click()}catch(e){t.e(e)}finally{t.f()}}}},{key:"setCurrentPointSelector",value:function(){this.loopPointSelector=this.classMenuPrefix+"--"+this.loopPointName}},{key:"setCurrentPointObject",value:function(){this.loopPointObject=document.querySelector(".".concat(this.loopPointSelector))}},{key:"setLinkStyle",value:function(){this.pointName===this.loopPointName?this.loopPointObject.classList.add(this.classMenuIsActive):this.loopPointObject.classList.remove(this.classMenuIsActive)}},{key:"setFieldsSelector",value:function(){this.fieldsSelector=this.classFieldsPrefix+"--"+this.loopPointName}},{key:"setFieldsObject",value:function(){this.fieldsObject=document.querySelector(".".concat(this.fieldsSelector))}},{key:"setFieldsStyle",value:function(){this.pointName===this.loopPointName?this.fieldsObject.classList.remove("display-none"):this.fieldsObject.classList.add("display-none")}},{key:"click",value:function(){var e=this;document.querySelector(".".concat(this.loopPointSelector," a")).addEventListener("click",(function(t){e.pointName=this.dataset.point,e.setPoints()}))}}])&&b(t.prototype,n),e}();function k(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector="custom-image",this.button="".concat(this.selector,"__download-button"),this.input="".concat(this.selector,"__input"),this.image="".concat(this.selector,"__preview-image"),this.eventClick()}var t,n;return t=e,(n=[{key:"eventClick",value:function(){var e,t=this,n=k(document.querySelectorAll(".".concat(t.image)));try{for(n.s();!(e=n.n()).done;)e.value.addEventListener("click",(function(e){this.closest(".".concat(t.selector)).querySelector(".".concat(t.input)).click()}))}catch(e){n.e(e)}finally{n.f()}var o=document.querySelectorAll(".".concat(t.input));if(o.length){var i,a=k(o);try{for(a.s();!(i=a.n()).done;)i.value.addEventListener("change",(function(e){t.loadFile(this)}))}catch(e){a.e(e)}finally{a.f()}}}},{key:"loadFile",value:function(e){var t=e.closest(".".concat(this.selector)).querySelector(".".concat(this.image," img")),n=new FileReader;n.readAsDataURL(e.files[0]),n.onloadend=function(){t.src=n.result}}}])&&j(t.prototype,n),e}();function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selector="exit-popup-config",this._title="".concat(this._selector,"__tab-title"),this._titles="".concat(this._selector,"__tab-titles"),this._active="".concat(this._title,"--active"),this._content="".concat(this._selector,"__tab-content"),this._switch="input-field--tab",this._select="".concat(this._selector,"__field--lang select"),this._$switches=document.querySelectorAll(".".concat(this._selector," .").concat(this._switch)),this._activate(),this._disable(),this._stick()}var t,n;return t=e,(n=[{key:"_activate",value:function(){var e,t=this,n=O(document.querySelectorAll(".".concat(t._title)));try{for(n.s();!(e=n.n()).done;)e.value.addEventListener("click",(function(e){var n=this.parentNode.querySelector(".".concat(t._active));n.classList.remove(t._active),this.classList.add(t._active),document.querySelector(".".concat(t._content,"--").concat(n.dataset.slug)).classList.add("display-none"),document.querySelector(".".concat(t._content,"--").concat(this.dataset.slug)).classList.remove("display-none")}))}catch(e){n.e(e)}finally{n.f()}}},{key:"_disable",value:function(){var e=this;if(e._$switches.length){var t,n=O(e._$switches);try{var o=function(){var n=t.value;n.addEventListener("click",(function(t){var o;void 0===o&&(o=this.closest(".".concat(e._content)).parentNode.querySelector(".".concat(e._titles)));var i=o.querySelector(".".concat(e._title,"--").concat(n.dataset.slug));n.checked?i.classList.remove("".concat(e._title,"--disable")):i.classList.add("".concat(e._title,"--disable"))}))};for(n.s();!(t=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}}},{key:"_stick",value:function(){var e=this,t=document.querySelector(".".concat(e._select));void 0!==t&&(e._stickMethod(t),t.addEventListener("change",(function(t){e._stickMethod(this)})))}},{key:"_stickMethod",value:function(e){if(this._$switches.length){var t,n=O(this._$switches);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.dataset.slug===e.value?(o.checked=!1,o.click(),o.disabled=!0):o.disabled=!1}}catch(e){n.e(e)}finally{n.f()}}}}])&&V(t.prototype,n),e}(),T=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"undefined"!=typeof popUpConfig&&popUpConfig.page===window.location.href.split("#")[0]&&(new p,new S,new C,new E)};document.addEventListener("DOMContentLoaded",(function(){new T}))})();